---
layout: post
title: 问题汇集
categories: 前端
tags: [前端]
---
### @media媒体查询与默认样式
有时候会发现@media中的样式没有执行，例如，下面这段就没有执行@media中的样式
```css
@media screen and (max-width:1000px) {
  .chart{
    width:500px;
    height:300px;
  }
}

.chart{
  width:1000px;
  height: 600px;
  border:solid 1px red;
}
```
这是因为后面的样式会覆盖前面的样式，所以顺序不能错误（默认样式要放在@media媒体查询的前面）
```css
.chart{
  width:1000px;
  height: 600px;
  border:solid 1px red;
}

@media screen and (max-width:1000px) {
  .chart{
    width:500px;
    height:300px;
  }
}
```
修改之后，可以正常的实现@media中的样式，实现了响应式布局

### 自定义checkbox样式
例如：input label有下面两种写法
```html
<input type="checkbox" id="awesome" />
<label for="awesome">Awesome!</label>
<!-- 或者直接 -->
<label>
  <input type="checkbox" />
  <span>Awesome!</span>
</label>
```
针对第一种
```css
input[type="checkbox"] + label::before {
    content: "\a0";  /*不换行空格*/
    display: inline-block;
    vertical-align: .2em;
    width: .8em;
    height: .8em;
    margin-right: .2em;
    border-radius: .2em;
    background-color: silver;
    text-indent: .15em;
    line-height: .65;  /*行高不加单位，子元素将继承数字乘以自身字体尺寸而非父元素行高*/
}

input[type="checkbox"]:checked + label::before {
    content: "\2713";
    background-color: yellowgreen;
}

input {
    position: absolute;
    clip: rect(0, 0, 0, 0);
}
```
![最终效果](https://images2017.cnblogs.com/blog/1032021/201708/1032021-20170807223539893-288321014.jpg)

参考：
🥇 [自定义input[type="checkbox"]的样式](https://www.cnblogs.com/xinjie-just/p/7302020.html)

#### 高度height的百分比为什么不生效  
[css进阶之十：高度height的百分比为何不生效](https://zhyjor.github.io/2018/06/15/css%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%8D%81%EF%BC%9A%E9%AB%98%E5%BA%A6height%E7%9A%84%E7%99%BE%E5%88%86%E6%AF%94%E4%B8%BA%E4%BD%95%E4%B8%8D%E7%94%9F%E6%95%88/)

### :nth-child(n)、:first-child、:last-child等区别 
```css
:nth-child(n) 根据元素在一组同级中的位置匹配元素
:first-child 表示在一组兄弟元素中的第一个元素
:last-child 表示一组兄弟元素中的最后一个元素
```

### margin塌陷与margin合并
参见: [理解margin塌陷和margin合并及其解决方案](https://juejin.cn/post/6976272394247897101)

要解决margin塌陷和margin合并，我们引入BFC来解决

BFC（Block Formatting Context），即块级格式化上下文，它是页面中的一块渲染区域，并且有一套属于自己的渲染规则：
* 内部的盒子会在垂直方向上一个接一个的放置
* 对于同一个BFC的俩个相邻的盒子的margin会发生重叠，与方向无关。
* 每个元素的左外边距与包含块的左边界相接触（从左到右），即使浮动元素也是如此
* BFC的区域不会与float的元素区域重叠
* 计算BFC的高度时，浮动子元素也参与计算
* BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之亦然

触发BFC的条件：
* 根元素，即HTML元素
* 浮动元素：float值为left、right
* overflow值不为 visible，为 auto、scroll、hidden
* display的值为inline-block、inltable-cell、table-caption、table、inline-table、flex、inline-flex、grid、inline-grid
* position的值为absolute或fixed


### 元素水平垂直居中
* 行内元素居中布局
  * 水平居中
    * 行内元素可设置：text-align: center
    * flex布局设置父元素：display: flex; justify-content: center
  * 垂直居中
    * 单行文本父元素确认高度：height === line-height
    * 多行文本父元素确认高度：display: table-cell; vertical-align: middle
* 块级元素居中布局
  * 水平居中
    * 定宽: margin: 0 auto
    * 绝对定位+left:50%+margin:负自身一半
  * 垂直居中
    * position: absolute设置left、top、margin-left、margin-top(定高)
    * display: table-cell
    * transform: translate(x, y)
    * flex(不定高，不定宽)
    * grid(不定高，不定宽)，兼容性相对比较差


### 打包优化
压缩文件
减少回流操作，以及减少不必要的重绘